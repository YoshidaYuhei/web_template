# 要件定義: パスワード認証によるサインアップ画面の作成

## Why（なぜ必要か）

issue #18でパスワード認証によるサインアップAPIが実装されたが、フロントエンドにサインアップ画面が存在しないため、ユーザーがブラウザからアカウントを作成できない。フロントエンドのサインアップ画面を実装し、APIと接続することで、ユーザーが実際にシステムを利用開始できるようにする。

## UX（ユーザー体験）

- ユーザーはサインアップ画面でメールアドレスとパスワードを入力し、アカウントを作成できる
- フロントエンド側でリアルタイムにバリデーションが行われ、送信前にエラーを確認できる
  - メールアドレス形式のチェック
  - パスワード8文字以上のチェック
- サインアップ成功後、即座にダッシュボード/ホーム画面に遷移する（再ログイン不要）
- エラー時（重複メール等）は画面上にわかりやすいエラーメッセージが表示される
- UIはTailwind CSSで構築し、レスポンシブ対応する

## Issue（解決したい課題）

- サインアップAPIは実装済みだが、フロントエンドに接続する画面がない
- フロントエンドにルーティング機構がなく、サインアップ→ホームの画面遷移ができない
- CSSフレームワークが未導入で、統一的なUI構築基盤がない

## UseCase（ユースケース）

```gherkin
Feature: パスワード認証によるサインアップ画面

  Scenario: 正常なサインアップ
    Given ユーザーがサインアップ画面を表示している
    And メールアドレス "user@example.com" のアカウントが存在しない
    When メールアドレス欄に "user@example.com" を入力する
    And パスワード欄に "mypassword1" を入力する
    And サインアップボタンをクリックする
    Then POST /api/auth/signup/password にリクエストが送信される
    And ステータスコード 201 が返却される
    And ダッシュボード/ホーム画面に遷移する

  Scenario: フロントエンドバリデーション - メールアドレス形式不正
    Given ユーザーがサインアップ画面を表示している
    When メールアドレス欄に "invalid" を入力する
    And パスワード欄に "mypassword1" を入力する
    And サインアップボタンをクリックする
    Then APIリクエストは送信されない
    And メールアドレス欄の下に「有効なメールアドレスを入力してください」とエラーが表示される

  Scenario: フロントエンドバリデーション - パスワードが短すぎる
    Given ユーザーがサインアップ画面を表示している
    When メールアドレス欄に "user@example.com" を入力する
    And パスワード欄に "short" を入力する
    And サインアップボタンをクリックする
    Then APIリクエストは送信されない
    And パスワード欄の下に「パスワードは8文字以上で入力してください」とエラーが表示される

  Scenario: 重複メールアドレスでのサインアップ
    Given ユーザーがサインアップ画面を表示している
    And メールアドレス "existing@example.com" のアカウントが既に存在する
    When メールアドレス欄に "existing@example.com" を入力する
    And パスワード欄に "mypassword1" を入力する
    And サインアップボタンをクリックする
    Then POST /api/auth/signup/password にリクエストが送信される
    And ステータスコード 409 が返却される
    And 画面上に「このメールアドレスは既に登録されています」とエラーが表示される

  Scenario: 空のフォーム送信
    Given ユーザーがサインアップ画面を表示している
    When サインアップボタンをクリックする
    Then APIリクエストは送信されない
    And 各入力欄の下にバリデーションエラーが表示される

  Scenario: サーバーエラー時
    Given ユーザーがサインアップ画面を表示している
    And サーバーが応答しない状態である
    When 正しい情報を入力してサインアップボタンをクリックする
    Then 画面上に「サーバーに接続できません。しばらくしてから再試行してください」とエラーが表示される
```

## SpecDelta（既存仕様との差分）

### 新規追加

**ライブラリ**
- `react-router-dom` - クライアントサイドルーティング
- `tailwindcss` + `@tailwindcss/vite` - CSSフレームワーク

**画面・コンポーネント**
- サインアップページ (`/signup`)
- ダッシュボード/ホームページ (`/`) - プレースホルダー

**API接続**
- `POST /api/auth/signup/password` を呼び出し
- リクエスト: `{email, password}`
- 成功時(201): ダッシュボードへ遷移
- 409: 重複メールエラー表示
- 422: バリデーションエラー表示
- ネットワークエラー: 接続エラー表示

**トークン管理**
- 今回は保存しない（後続issueで対応）

### 既存変更
- `frontend/src/App.tsx` → ルーター設定を追加
- `frontend/src/main.tsx` → ルーターのプロバイダ設定
- `frontend/src/index.css` → Tailwind CSSの設定に置き換え
- `frontend/vite.config.ts` → Tailwind CSSプラグイン追加

### 既存利用（変更なし）
- `POST /auth/signup/password` - バックエンドAPI
- Viteプロキシ設定（`/api` → `http://localhost:8000`、`/api`プレフィックス除去）

---
name: requirement
description: 入力される要求から要件定義書を作成する
---
## usage
引数としてIssue番号を渡される
github から issue の内容を取得し、要件定義書をrequirement.mdとして出力する。
要件整理の際は 質問プロセス に従って質疑応答を繰り返し、詳細を詰めていく

## 出力
  path: docs/changes/<issue_id>/requirement.md
  format: markdown
  items: 
    why: なぜその機能が必要なのかを説明する
    ux: 提供したいユーザー体験を記述する
    issue: 解決したい課題を記述する
    usecase: 想定されるユースケースをリストアップする
    specdelta: 既存の仕様との差分を説明する

## UseCase - ユースケース定義
  
標準的なユースケースフォーマットで記述してください：
```
  UC-XXX: <ユースケース名>
  
  アクター: <主アクター>
  目的: <達成したいこと>
  
  事前条件:
  - <条件1>
  - <条件2>
  
  基本フロー:
  1. <ステップ1>
  2. <ステップ2>
  ...
  
  代替フロー:
  - <代替パターン>
  
  事後条件:
  - <結果1>
  - <結果2>
```

## 既存システムとの整合性確認
  
  以下を必ず確認してください：
  
  1. **ドメイン知識との整合性**
     - 用語が `ssot/domain/glossary.md` と一致しているか？
     - ビジネスルールに違反していないか？
  
  2. **既存ユースケースとの関係**
     - 類似のユースケースは既に存在するか？
     - 既存ユースケースと競合しないか？
     - 既存ユースケースを拡張すべきか、新規作成すべきか？

## 質問プロセス
  
  ユーザーの最初の要求は簡潔なことが多いです。
  以下のプロセスで深掘りしてください：
  
  1. **初期理解** - 要求を要約し、理解を確認
  2. **WHY深掘り** - ビジネス価値を明確化
  3. **UX具体化** - ユーザー体験を詳細化
  4. **シナリオ展開** - 具体的な使用場面を確認
  5. **制約確認** - 技術的・ビジネス的制約を確認
  6. **既存調査** - 類似機能や競合を確認

  各ステップで、ユーザーに明確な質問を投げかけてください。